{"version":3,"file":"lcep-storyblok-component.cjs.development.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\n/*\nCreate video showing how to use the SB component\ntop: text\nbottom: richText\npromotion: text / image / link\nvideo: mp4\n*/\n\ntype SBProps = {\n  slot?: 'top' | 'bottom' | 'promotion' | 'video';\n  story: {\n    name: string;\n    created_at: string;\n    published_at: string;\n    id: number;\n    uuid: string;\n    content: {\n      _uid: string;\n      network: string[];\n      promotionContent: any;\n      promotionLink: {\n        id: string;\n        url: string;\n        linktype: string;\n        fieldtype: string;\n        cached_url: string;\n      };\n      showPromotion: boolean;\n      promotionImage: {\n        id: number;\n        alt: string;\n        name: string;\n        focus: string;\n        title: string;\n        source: string;\n        filename: string;\n        copyright: string;\n        fieldtype: string;\n        meta_data: Record<string, any>;\n        is_private: boolean;\n        is_external_url: boolean;\n    };    \n      subType: string;\n      topSlot: any;\n      component: string;\n      bottomSlot: any;\n      defaultSKU: string;\n      familyCode: string;\n      familyName: string;\n      manufacturer: string;\n      productPhotos: {\n        id: number;\n        alt: string;\n        name: string;\n        focus: string;\n        title: string;\n        source: string;\n        filename: string;\n        copyright: string;\n        fieldtype: string;\n        meta_data: {\n          alt: string;\n          title: string;\n          source: string;\n          copyright: string;\n        };\n        is_private: boolean;\n      }[];\n      productVideos: {\n        id: number;\n        alt: string;\n        name: string;\n        focus: string;\n        title: string;\n        source: string;\n        filename: string;\n        copyright: string;\n        fieldtype: string;\n        meta_data: {\n          alt: string;\n          title: string;\n          source: string;\n          copyright: string;\n        };\n        is_private: boolean;\n      }[];\n      longDescription: string;\n      operatingSystem: string;\n      shortDescription: {\n        type: string;\n        content: {\n          type: string;\n          content: {\n            text: string;\n            type: string;\n            marks?: {\n              type: string;\n            }[];\n          }[];\n        }[];\n      };\n      productSubCategory: string;\n      productFamilyCategory: string;\n      searchEngineOptimization: {\n        _uid: string;\n        title: string;\n        plugin: string;\n        og_image: string;\n        og_title: string;\n        description: string;\n        twitter_image: string;\n        twitter_title: string;\n        og_description: string;\n        twitter_description: string;\n      };\n      _editable: string;\n    };\n    slug: string;\n    full_slug: string;\n    sort_by_date: any;\n    position: number;\n    tag_list: string[];\n    is_startpage: boolean;\n    parent_id: number;\n    meta_data: any;\n    group_id: string;\n    first_published_at: string;\n    lang: string;\n    path: any;\n  };\n}\n\nfunction renderRichText(richText: any) {\n  let html = '';\n\n  if (!richText) {\n    return html;\n  }\n\n  richText.content.forEach((item: any) => {\n      if (item.type === 'heading') {\n          const level = item.attrs.level;\n          html += `<h${level}>${item.content[0].text}</h${level}>`;\n      } else if (item.type === 'paragraph') {\n        if (item.content.length > 0) {\n          html += '<p>';\n          item.content.forEach((contentItem: any) => {\n              let text = contentItem.text;\n              if (contentItem.marks) {\n                  contentItem.marks.forEach((mark: any) => {\n                      if (mark.type === 'bold') {\n                          text = `<b>${text}</b>`;\n                      }\n                      // Add other mark types if needed (italic, underline, etc.)\n                  });\n              }\n              html += text;\n          });\n          html += '</p>';\n        }\n      } else {\n          console.log('Unknown type: ', item.type);\n      }\n  });\n\n  return html;\n}\n\nexport default ({ slot = 'top', story }: SBProps): React.ReactElement => {\n  if (!story) {\n    return <div><span>Loading...</span></div>;\n  }\n\n  const styles = `\n    /* Video Component */\n    .lcep-video {\n      display: block;\n      width: 100%;\n      max-width: 960px;\n      margin:0 auto;\n      padding:2rem 1rem;\n      position: relative;\n    }\n\n    .lcep-video:after {\n      content: '';\n      display: block;\n      position: relative;\n      padding-bottom: 56.25%;\n      height: 0;\n      overflow: hidden;\n    }\n\n    .lcep-video video {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n\n      bottom: 0px;\n      left: 0px;\n      width: 100%;\n      height: 100%;\n    }\n\n\n    /* Promotion Component */\n    .lcep-promotion {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height:400px;\n      max-width: 200px;\n      margin: 0 auto;\n      padding: 2rem 1rem;\n      position: relative;\n      z-index: 1;\n      background-size: cover;\n      background-position: center;\n      background-repeat: no-repeat;\n      color: #fff;\n      border-radius: 12px;\n      overflow: hidden;\n    }\n\n    .lcep-promotion:after{\n      display: block;\n      content: '';\n      z-index: 2;\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      bottom: 0px;\n      left: 0px;\n      background-color: rgba(0,0,0,0.5);\n    }\n\n    .lcep-promotion a,\n    .lcep-promotion span {\n      position: relative;\n      z-index: 3;\n      display: block;\n      width: 100%;\n      padding: 15px;\n    }\n\n    .lcep-promotion a {\n      background-color: #fff;\n      color: #000;\n      text-align: center;\n      text-decoration: none;\n      border-radius: 12px;\n      margin-top: 1rem;\n      padding: 1rem;\n    }\n  `;\n\n  // top slot\n  if (slot === 'top') {\n    return (\n      <div dangerouslySetInnerHTML={{ __html: renderRichText(story.content.topSlot)}}>\n        <style>{styles}</style>\n      </div>\n    ) \n  }\n  // bottom slot\n  else if (slot === 'bottom') {\n    return (\n      <div dangerouslySetInnerHTML={{ __html: renderRichText(story.content.bottomSlot)}}>\n        <style>{styles}</style>\n      </div>\n    )\n  }\n  // video slot\n  else if (slot === 'video') {\n    return (\n      <div className=\"lcep-video\">\n        <style>{styles}</style>\n        <video controls>\n          <source src={story.content.productVideos[0].filename} type=\"video/mp4\" />\n        </video>\n      </div>\n    )\n  }\n  // promotion slot\n  else if (slot === 'promotion' && story.content.showPromotion === true) {\n    return (\n      <div className=\"lcep-promotion\" style={{backgroundImage: `url(${story.content?.promotionImage.filename})`}}>\n        <style>{styles}</style>\n        <span dangerouslySetInnerHTML={{ __html: renderRichText(story.content.promotionContent) }}></span>\n        <a href={story.content.promotionLink.url}>\n          Learn more\n        </a>\n      </div>\n    );\n  // slot not found\n  } else {\n    return (<div><p>Slot not configured.</p></div>)\n  }\n}\n"],"names":["renderRichText","richText","html","content","forEach","item","type","level","attrs","text","length","contentItem","marks","mark","console","log","_ref","slot","_ref$slot","story","React","styles","dangerouslySetInnerHTML","__html","topSlot","bottomSlot","className","controls","src","productVideos","filename","showPromotion","_story$content","style","backgroundImage","promotionImage","promotionContent","href","promotionLink","url"],"mappings":"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"}